<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <title>–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂ ‚Äî —Å–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞</title>
    <style>
        /* –°–ë–†–û–° –ò –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background: #f2f6fa;
            padding: 12px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        .form-container {
            max-width: 480px;
            width: 100%;
            background: white;
            border-radius: 32px;
            padding: 20px 18px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.05);
        }

        h1 {
            font-size: 1.7rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0a2f4a;
            border-left: 8px solid #0d6efd;
            padding-left: 16px;
            letter-spacing: -0.5px;
        }

        /* –ö–ê–†–¢–û–ß–ö–ò */
        .card {
            background: white;
            border-radius: 28px;
            padding: 20px 18px;
            margin-bottom: 20px;
            border: 1px solid #e2ebf3;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
        }

        .card-header {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0b2f4e;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* –ú–ï–ù–ï–î–ñ–ï–† –ò –ö–õ–ò–ï–ù–¢ */
        .manager-card, .client-card {
            background: #f7fcff;
            border-radius: 24px;
            padding: 18px 16px;
            border: 1px solid #d9e6f2;
            margin-bottom: 16px;
        }

        .manager-card label, .client-card label {
            font-weight: 700;
            color: #1e3a5f;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        /* –ü–û–õ–Ø –í–í–û–î–ê */
        select, input[type="text"], input[type="tel"] {
            border: 1.8px solid #c2d6e6;
            border-radius: 50px;
            padding: 16px 22px;
            font-size: 1.1rem;
            background: white;
            width: 100%;
            appearance: none;
            -webkit-appearance: none;
        }

        select {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%232c3e50" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 24px;
        }

        .input-icon {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-icon span {
            position: absolute;
            left: 20px;
            font-size: 1.4rem;
            color: #0d6efd;
        }

        .input-icon input {
            padding-left: 58px;
        }

        /* –ë–õ–û–ö R */
        .r-compact {
            background: white;
            border: 1px solid #d0e1ee;
            border-radius: 32px;
            padding: 20px 16px;
            margin-bottom: 24px;
        }

        .r-layout {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .r-left {
            width: 100%;
        }

        .r-left select {
            width: 100%;
            font-size: 1.9rem;
            font-weight: 800;
            padding: 12px 20px;
            height: auto;
            min-height: 90px;
            text-align: center;
            text-align-last: center;
            background: white;
            border: 2.5px solid #0d6efd;
            border-radius: 60px;
            color: #003153;
            letter-spacing: 2px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%230d6efd" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 32px;
        }

        .check-right {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .check-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .check-row label {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: #f5fafd;
            padding: 16px 12px;
            border-radius: 60px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #124263;
            border: 1.8px solid #c2d9e8;
            flex: 1 1 130px;
            min-height: 64px;
            cursor: pointer;
            -webkit-tap-highlight-color: rgba(13,110,253,0.1);
        }

        .check-row label:active {
            background: #d9eaf5;
        }

        .check-row input[type="checkbox"] {
            width: 26px;
            height: 26px;
            accent-color: #0d6efd;
            margin: 0;
            transform: scale(1.1);
            pointer-events: none;
        }

        .car-icon {
            font-size: 1.4rem;
        }

        /* –ö–û–õ-–í–û –ò –ö–ù–û–ü–ö–ê */
        .qty-global {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 24px;
            background: #e5f0f7;
            padding: 20px 16px;
            border-radius: 40px;
        }

        .qty-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .qty-item label {
            font-weight: 700;
            font-size: 1.2rem;
            color: #12507a;
        }

        .carousel-select {
            background: white;
            border: 2px solid #9fb7c7;
            border-radius: 60px;
            padding: 14px 40px 14px 24px;
            font-size: 1.3rem;
            font-weight: 700;
            width: 140px;
            text-align-last: center;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="%231e3a5f" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 28px;
            appearance: none;
        }

        .apply-all-btn {
            background: #0d6efd;
            color: white;
            border: none;
            border-radius: 60px;
            padding: 16px 20px;
            font-weight: 700;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            box-shadow: 0 8px 18px rgba(13,110,253,0.25);
            cursor: pointer;
        }

        .apply-all-btn:active {
            background: #0b5ed7;
            transform: scale(0.98);
        }

        /* –ú–ê–¢–ï–†–ò–ê–õ–´ –ò –£–°–õ–£–ì–ò */
        .section-card {
            background: white;
            border: 1px solid #deecf5;
            border-radius: 32px;
            padding: 20px 16px;
            margin-bottom: 24px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
            font-weight: 700;
            color: #144a70;
            margin-bottom: 20px;
        }

        .section-title span {
            background: #0d6efd;
            color: white;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 20px;
            font-size: 1.5rem;
        }

        .items-grid {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .item-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #f8fdff;
            padding: 12px 16px;
            border-radius: 100px;
            border: 1px solid #cde0eb;
            flex-wrap: wrap;
            gap: 12px;
        }

        .item-name {
            font-weight: 600;
            color: #1e3f5e;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05rem;
            flex: 1 1 160px;
        }

        .item-number {
            color: #0d6efd;
            font-weight: 800;
            background: #e2eff9;
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 30px;
            font-size: 1rem;
        }

        .item-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .qty-carousel {
            border: 2px solid #c2d1db;
            border-radius: 60px;
            padding: 12px 36px 12px 20px;
            font-size: 1.15rem;
            font-weight: 600;
            background: white;
            width: 110px;
            text-align-last: center;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%232c3e50" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
            background-repeat: no-repeat;
            background-position: right 14px center;
            background-size: 24px;
            appearance: none;
        }

        .zero-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50px;
            width: 64px;
            height: 56px;
            font-weight: 800;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 12px rgba(255,80,80,0.25);
            cursor: pointer;
        }

        .zero-btn:active {
            background: #e05252;
            transform: scale(0.94);
        }

        /* –ö–ù–û–ü–ö–ò */
        .footer-actions {
            display: flex;
            gap: 14px;
            margin-top: 20px;
        }

        .btn {
            border: none;
            padding: 18px 20px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.15rem;
            background: #ecf3f7;
            color: #1e3a5f;
            cursor: pointer;
            flex: 1;
            text-align: center;
        }

        .btn:active {
            background: #dbe5ec;
            transform: scale(0.98);
        }

        .btn-primary {
            background: #0d6efd;
            color: white;
        }

        .btn-primary:active {
            background: #0b5ed7;
        }

        /* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –°–û –°–í–û–î–ö–û–ô */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s;
            backdrop-filter: blur(3px);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 36px;
            max-width: 480px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            padding: 28px 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            animation: slideUp 0.25s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-header h2 {
            font-size: 1.6rem;
            font-weight: 700;
            color: #0a2f4a;
        }

        .modal-close {
            background: #ecf3f7;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #1e3a5f;
        }

        .modal-close:active {
            background: #dbe5ec;
        }

        .summary-section {
            margin-bottom: 24px;
        }

        .summary-title {
            font-weight: 700;
            color: #0d6efd;
            font-size: 1.2rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 2px solid #e2ebf3;
            padding-bottom: 10px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #dee9f2;
            font-size: 1.05rem;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            color: #2c4e6b;
            font-weight: 500;
        }

        .summary-value {
            font-weight: 700;
            color: #0a3144;
        }

        .empty-message {
            color: #7c95aa;
            font-style: italic;
            padding: 10px 0;
            text-align: center;
        }

        .modal-footer {
            margin-top: 24px;
            display: flex;
            justify-content: flex-end;
        }

        .modal-footer .btn {
            flex: 0 1 auto;
            padding: 14px 28px;
        }

        small {
            color: #3c6780;
            font-size: 0.85rem;
            margin-top: 16px;
            display: block;
        }
    </style>
</head>
<body>
<div class="form-container">
    <h1>üõû –®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂</h1>
    
    <!-- –ú–ï–ù–ï–î–ñ–ï–† -->
    <div class="manager-card">
        <label>üë®‚Äçüíº –ú–µ–Ω–µ–¥–∂–µ—Ä</label>
        <select id="managerSelect">
            <option value="" disabled selected>‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –§–ò–û ‚Äî</option>
            <option value="–ê–Ω–¥—Ä–µ–µ–≤ –ê–Ω–¥—Ä–µ–π –ê–Ω–¥—Ä–µ–µ–≤–∏—á">–ê–Ω–¥—Ä–µ–µ–≤ –ê–Ω–¥—Ä–µ–π –ê–Ω–¥—Ä–µ–µ–≤–∏—á</option>
            <option value="–ë–æ—Ä–∏—Å–æ–≤–∞ –ë–æ—Ä–∏—Å–ª–∞–≤–∞ –ë–æ—Ä–∏—Å–æ–≤–Ω–∞">–ë–æ—Ä–∏—Å–æ–≤–∞ –ë–æ—Ä–∏—Å–ª–∞–≤–∞ –ë–æ—Ä–∏—Å–æ–≤–Ω–∞</option>
            <option value="–í–ª–∞—Å–æ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∞–ª–µ—Ä—å–µ–≤–∏—á">–í–ª–∞—Å–æ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∞–ª–µ—Ä—å–µ–≤–∏—á</option>
            <option value="–ì—Ä–∏–≥–æ—Ä—å–µ–≤–∞ –ì–∞–ª–∏–Ω–∞ –ì—Ä–∏–≥–æ—Ä—å–µ–≤–Ω–∞">–ì—Ä–∏–≥–æ—Ä—å–µ–≤–∞ –ì–∞–ª–∏–Ω–∞ –ì—Ä–∏–≥–æ—Ä—å–µ–≤–Ω–∞</option>
            <option value="–î–º–∏—Ç—Ä–∏–µ–≤ –î–º–∏—Ç—Ä–∏–π –î–º–∏—Ç—Ä–∏–µ–≤–∏—á">–î–º–∏—Ç—Ä–∏–µ–≤ –î–º–∏—Ç—Ä–∏–π –î–º–∏—Ç—Ä–∏–µ–≤–∏—á</option>
            <option value="–ï–∫–∞—Ç–µ—Ä–∏–Ω–∏–Ω–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ï–≤–≥–µ–Ω—å–µ–≤–Ω–∞">–ï–∫–∞—Ç–µ—Ä–∏–Ω–∏–Ω–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ï–≤–≥–µ–Ω—å–µ–≤–Ω–∞</option>
            <option value="–ñ—É–∫–æ–≤ –ñ–æ—Ä–∂ –ñ–∞–Ω–æ–≤–∏—á">–ñ—É–∫–æ–≤ –ñ–æ—Ä–∂ –ñ–∞–Ω–æ–≤–∏—á</option>
        </select>
    </div>
    
    <!-- –ö–õ–ò–ï–ù–¢ -->
    <div class="client-card">
        <label style="margin-bottom: 12px;">üë• –ö–ª–∏–µ–Ω—Ç</label>
        <div style="display: flex; flex-direction: column; gap: 14px;">
            <div class="input-icon">
                <span>üë§</span>
                <input type="text" id="clientName" placeholder="–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞">
            </div>
            <div class="input-icon">
                <span>üìû</span>
                <input type="tel" id="clientPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
            </div>
        </div>
    </div>

    <!-- –ë–õ–û–ö R -->
    <div class="r-compact">
        <div class="card-header">
            <span>‚öôÔ∏è</span> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª—ë—Å
        </div>
        
        <div class="r-layout">
            <div class="r-left">
                <select id="diameterSelect">
                    <option value="13">R13</option>
                    <option value="14">R14</option>
                    <option value="15">R15</option>
                    <option value="16">R16</option>
                    <option value="17" selected>R17</option>
                    <option value="18">R18</option>
                    <option value="19">R19</option>
                    <option value="20">R20</option>
                    <option value="21">R21</option>
                    <option value="22">R22</option>
                    <option value="23">R23</option>
                    <option value="24">R24</option>
                </select>
            </div>
            
            <div class="check-right">
                <div class="check-row">
                    <label>
                        <input type="checkbox" id="carLight" class="type-check car-type-group">
                        <span class="car-icon">üöó</span> –õ–µ–≥–∫–æ–≤–∞—è
                    </label>
                    <label>
                        <input type="checkbox" id="carJeep" class="type-check car-type-group">
                        <span class="car-icon">üõª</span> –î–∂–∏–ø
                    </label>
                </div>
                <div class="check-row">
                    <label>
                        <input type="checkbox" id="carLowProfile" class="type-check">
                        <span class="car-icon">‚ö°</span> –ù–∏–∑–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å
                    </label>
                    <label>
                        <input type="checkbox" id="carRunflat" class="type-check">
                        <span class="car-icon">üõ°Ô∏è</span> RunFlat
                    </label>
                </div>
            </div>
        </div>
        
        <div class="qty-global">
            <div class="qty-item">
                <label>üî¢ –ö–æ–ª-–≤–æ</label>
                <select id="wheelsQty" class="carousel-select">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected>4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>
            </div>
            <button type="button" id="applyAllBtn" class="apply-all-btn">
                ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö
            </button>
        </div>
    </div>

    <!-- –ú–ê–¢–ï–†–ò–ê–õ–´ -->
    <div class="section-card">
        <div class="section-title">
            <span>üß¥</span> –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
        </div>
        <div class="items-grid" id="materialsGrid">
            <div class="item-row"><span class="item-name"><span class="item-number">1</span> –†–∞—Å—Ö–æ–¥–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">2</span> –ì—Ä—É–∑–∏–∫ –Ω–∞–±–∏–≤–Ω–æ–π</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">3</span> –ì—Ä—É–∑–∏–∫ —Å–∞–º–æ–∫–ª–µ—é—â–∏–π—Å—è</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">4</span> –í–µ–Ω—Ç–∏–ª—å –ø—Ä–æ—Å—Ç.</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">5</span> –í–µ–Ω—Ç–∏–ª—å —Ö—Ä–æ–º</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">7</span> –ñ–≥—É—Ç</span><div class="item-controls"><select class="qty-carousel material-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
        </div>
        <small>üî¥ –ö–Ω–æ–ø–∫–∞ 0 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 0</small>
    </div>

    <!-- –£–°–õ–£–ì–ò -->
    <div class="section-card">
        <div class="section-title">
            <span>üîß</span> –£—Å–ª—É–≥–∏
        </div>
        <div class="items-grid" id="servicesGrid">
            <div class="item-row"><span class="item-name"><span class="item-number">1</span> –°—ä–µ–º –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–ª–µ—Å–∞</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">2</span> –î–µ–º–æ–Ω—Ç–∞–∂ —à–∏–Ω—ã</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">3</span> –ú–æ–Ω—Ç–∞–∂ —à–∏–Ω—ã</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">4</span> –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">5</span> –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –º–æ–π–∫–∞</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">6</span> –°–ª–æ–∂–Ω–æ—Å—Ç—å —à/–º —Å –¥–∞—Ç—á–∏–∫–æ–º</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">7</span> –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—É–ø–∏—Ü—ã/–≥–µ—Ä–º–µ—Ç–∏–∫</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">8</span> –®–∏–Ω–æ—Ä–µ–º–æ–Ω—Ç –∂–≥—É—Ç–æ–º</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">9</span> –°—ä–µ–º –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–º–µ—Ä—ã</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
            <div class="item-row"><span class="item-name"><span class="item-number">10</span> –ü–æ–≥—Ä—É–∑–∫–∞ –∫–æ–ª–µ—Å–æ/—Å–±–æ—Ä–µ</span><div class="item-controls"><select class="qty-carousel service-qty"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option></select><button type="button" class="zero-btn">0</button></div></div>
        </div>
        <small>‚úÖ –£—Å–ª—É–≥–∏ —Å –∫–Ω–æ–ø–∫–æ–π 0</small>
    </div>

    <!-- –ö–ù–û–ü–ö–ò -->
    <div class="footer-actions">
        <button class="btn" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
        <button class="btn btn-primary" id="saveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
</div>

<!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –°–û –°–í–û–î–ö–û–ô -->
<div id="summaryModal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìã –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω</h2>
            <button class="modal-close" id="closeModalBtn">‚úï</button>
        </div>
        
        <div id="summaryContent">
            <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å–≤–æ–¥–∫–∞ -->
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-primary" id="closeModalBtn2">OK</button>
        </div>
    </div>
</div>

<script>
    (function() {
        "use strict";

        // –≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã
        const wheelsQtySelect = document.getElementById('wheelsQty');
        const applyBtn = document.getElementById('applyAllBtn');
        const materialSelects = document.querySelectorAll('.material-qty');
        const serviceSelects = document.querySelectorAll('.service-qty');
        const allItemSelects = [...materialSelects, ...serviceSelects];
        
        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        const modal = document.getElementById('summaryModal');
        const summaryContent = document.getElementById('summaryContent');
        const closeBtns = document.querySelectorAll('#closeModalBtn, #closeModalBtn2');
        
        // ---------- –†–ê–î–ò–û-–õ–û–ì–ò–ö–ê ----------
        const carLight = document.getElementById('carLight');
        const carJeep = document.getElementById('carJeep');
        
        function handleCarTypeChange(changed, other) {
            if (changed.checked) {
                other.checked = false;
            }
        }
        
        carLight.addEventListener('change', function() { handleCarTypeChange(carLight, carJeep); });
        carJeep.addEventListener('change', function() { handleCarTypeChange(carJeep, carLight); });

        // ---------- –£–°–¢–ê–ù–û–í–ò–¢–¨ –î–õ–Ø –í–°–ï–• ----------
        function setAllItemsFromWheels() {
            const qty = wheelsQtySelect.value;
            allItemSelects.forEach(select => { select.value = qty; });
        }
        applyBtn.addEventListener('click', setAllItemsFromWheels);

        // ---------- –°–ë–†–û–° –ö–û–õ-–í–ê –ö–û–õ–ï–° ----------
        function ensureEmptyOption() {
            if (!wheelsQtySelect.querySelector('option[value=""]')) {
                const emptyOpt = document.createElement('option');
                emptyOpt.value = '';
                emptyOpt.textContent = '‚Äî';
                emptyOpt.disabled = true;
                wheelsQtySelect.prepend(emptyOpt);
            }
        }
        ensureEmptyOption();
        
        function resetWheelsQtyToEmpty() {
            const emptyOpt = wheelsQtySelect.querySelector('option[value=""]');
            if (emptyOpt) emptyOpt.selected = true;
        }
        
        allItemSelects.forEach(select => {
            select.addEventListener('change', resetWheelsQtyToEmpty);
        });
        wheelsQtySelect.value = '4';

        // ---------- –ö–ù–û–ü–ö–ò 0 ----------
        const allZeroButtons = document.querySelectorAll('.item-controls .zero-btn');
        allZeroButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                const row = this.closest('.item-row');
                if (row) {
                    const qtySelect = row.querySelector('.qty-carousel');
                    if (qtySelect) {
                        if (!qtySelect.querySelector('option[value="0"]')) {
                            const zeroOpt = document.createElement('option');
                            zeroOpt.value = '0';
                            zeroOpt.textContent = '0';
                            qtySelect.prepend(zeroOpt);
                        }
                        qtySelect.value = '0';
                        resetWheelsQtyToEmpty();
                    }
                }
            });
        });

        // ---------- –°–ë–†–û–° –§–û–†–ú–´ ----------
        function resetAll() {
            document.getElementById('managerSelect').selectedIndex = 0;
            document.getElementById('clientName').value = '';
            document.getElementById('clientPhone').value = '';
            document.getElementById('diameterSelect').value = '17';
            document.querySelectorAll('.type-check').forEach(cb => cb.checked = false);
            wheelsQtySelect.value = '4';
            allItemSelects.forEach(select => {
                const zeroOpt = select.querySelector('option[value="0"]');
                if (zeroOpt) zeroOpt.remove();
                select.value = '1';
            });
        }
        document.getElementById('resetBtn').addEventListener('click', resetAll);

        // ---------- –§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –°–í–û–î–ö–ò (–¢–û–õ–¨–ö–û –ó–ê–ü–û–õ–ù–ï–ù–ù–´–ï) ----------
        function generateSummary() {
            let html = '';
            
            // 1. –ú–ï–ù–ï–î–ñ–ï–†
            const manager = document.getElementById('managerSelect').value;
            html += `<div class="summary-section">`;
            html += `<div class="summary-title">üë®‚Äçüíº –ú–µ–Ω–µ–¥–∂–µ—Ä</div>`;
            if (manager) {
                html += `<div class="summary-item"><span class="summary-label">–§–ò–û:</span><span class="summary-value">${manager}</span></div>`;
            } else {
                html += `<div class="empty-message">‚Äî –Ω–µ –≤—ã–±—Ä–∞–Ω ‚Äî</div>`;
            }
            html += `</div>`;
            
            // 2. –ö–õ–ò–ï–ù–¢
            const clientName = document.getElementById('clientName').value.trim();
            const clientPhone = document.getElementById('clientPhone').value.trim();
            html += `<div class="summary-section">`;
            html += `<div class="summary-title">üë• –ö–ª–∏–µ–Ω—Ç</div>`;
            if (clientName || clientPhone) {
                if (clientName) html += `<div class="summary-item"><span class="summary-label">–§–ò–û:</span><span class="summary-value">${clientName}</span></div>`;
                if (clientPhone) html += `<div class="summary-item"><span class="summary-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span><span class="summary-value">${clientPhone}</span></div>`;
            } else {
                html += `<div class="empty-message">‚Äî –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî</div>`;
            }
            html += `</div>`;
            
            // 3. –ü–ê–†–ê–ú–ï–¢–†–´ –ö–û–õ–Å–°
            const radius = document.getElementById('diameterSelect').value;
            const types = [];
            if (document.getElementById('carLight').checked) types.push('üöó –õ–µ–≥–∫–æ–≤–∞—è');
            if (document.getElementById('carJeep').checked) types.push('üõª –î–∂–∏–ø');
            if (document.getElementById('carLowProfile').checked) types.push('‚ö° –ù–∏–∑–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å');
            if (document.getElementById('carRunflat').checked) types.push('üõ°Ô∏è RunFlat');
            const qty = wheelsQtySelect.value;
            
            html += `<div class="summary-section">`;
            html += `<div class="summary-title">‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª—ë—Å</div>`;
            html += `<div class="summary-item"><span class="summary-label">–†–∞–¥–∏—É—Å:</span><span class="summary-value">R${radius}</span></div>`;
            if (types.length > 0) {
                html += `<div class="summary-item"><span class="summary-label">–¢–∏–ø:</span><span class="summary-value">${types.join(', ')}</span></div>`;
            }
            html += `<div class="summary-item"><span class="summary-label">–ö–æ–ª-–≤–æ:</span><span class="summary-value">${qty}</span></div>`;
            html += `</div>`;
            
            // 4. –ú–ê–¢–ï–†–ò–ê–õ–´ (–¢–û–õ–¨–ö–û > 0)
            html += `<div class="summary-section">`;
            html += `<div class="summary-title">üß¥ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</div>`;
            
            const materialRows = document.querySelectorAll('#materialsGrid .item-row');
            let hasMaterials = false;
            
            materialRows.forEach(row => {
                const nameSpan = row.querySelector('.item-name');
                const numberSpan = row.querySelector('.item-number');
                const qtySelect = row.querySelector('.qty-carousel');
                
                if (nameSpan && qtySelect) {
                    const number = numberSpan ? numberSpan.textContent : '';
                    const name = nameSpan.childNodes[1]?.nodeValue?.trim() || nameSpan.innerText.replace(number, '').trim();
                    const qty = parseInt(qtySelect.value, 10);
                    
                    if (qty > 0) {
                        hasMaterials = true;
                        html += `<div class="summary-item"><span class="summary-label">${number} ${name}:</span><span class="summary-value">${qty} —à—Ç</span></div>`;
                    }
                }
            });
            
            if (!hasMaterials) {
                html += `<div class="empty-message">‚Äî –Ω–µ—Ç –ø–æ–∑–∏—Ü–∏–π ‚Äî</div>`;
            }
            html += `</div>`;
            
            // 5. –£–°–õ–£–ì–ò (–¢–û–õ–¨–ö–û > 0)
            html += `<div class="summary-section">`;
            html += `<div class="summary-title">üîß –£—Å–ª—É–≥–∏</div>`;
            
            const serviceRows = document.querySelectorAll('#servicesGrid .item-row');
            let hasServices = false;
            
            serviceRows.forEach(row => {
                const nameSpan = row.querySelector('.item-name');
                const numberSpan = row.querySelector('.item-number');
                const qtySelect = row.querySelector('.qty-carousel');
                
                if (nameSpan && qtySelect) {
                    const number = numberSpan ? numberSpan.textContent : '';
                    const name = nameSpan.childNodes[1]?.nodeValue?.trim() || nameSpan.innerText.replace(number, '').trim();
                    const qty = parseInt(qtySelect.value, 10);
                    
                    if (qty > 0) {
                        hasServices = true;
                        html += `<div class="summary-item"><span class="summary-label">${number} ${name}:</span><span class="summary-value">${qty} —à—Ç</span></div>`;
                    }
                }
            });
            
            if (!hasServices) {
                html += `<div class="empty-message">‚Äî –Ω–µ—Ç –ø–æ–∑–∏—Ü–∏–π ‚Äî</div>`;
            }
            html += `</div>`;
            
            return html;
        }

        // ---------- –ü–û–ö–ê–ó –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê ----------
        function showSummary() {
            summaryContent.innerHTML = generateSummary();
            modal.classList.add('active');
        }
        
        // ---------- –ó–ê–ö–†–´–¢–ò–ï –ú–û–î–ê–õ–ö–ò ----------
        function closeModal() {
            modal.classList.remove('active');
        }
        
        // ---------- –°–û–•–†–ê–ù–ò–¢–¨ ----------
        document.getElementById('saveBtn').addEventListener('click', function(e) {
            e.preventDefault();
            showSummary();
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–Ω–æ–ø–∫–∞–º
        closeBtns.forEach(btn => {
            btn.addEventListener('click', closeModal);
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        wheelsQtySelect.value = '4';
    })();
</script>

</body>
</html>